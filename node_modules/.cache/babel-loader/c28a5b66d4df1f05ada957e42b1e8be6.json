{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\blogpessoal-front\\\\src\\\\componentes\\\\temas\\\\cadastroTema\\\\CadastroTema.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Typography, TextField, Button } from \"@material-ui/core\";\nimport { buscaId, post, put } from '../../../service/Service';\nimport './CadastroTema.css';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport useLocalStorage from 'react-use-localstorage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CadastroTema() {\n  _s();\n  let navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  const [token, setToken] = useLocalStorage('token');\n  const [tema, setTema] = useState({\n    id: 0,\n    descricao: ''\n  });\n  useEffect(() => {\n    if (token == \"\") {\n      alert(\"Você precisa estar logado\");\n      navigate(\"/login\");\n    }\n  }, [token]);\n  useEffect(() => {\n    if (id !== undefined) {\n      findById(id);\n    }\n  }, [id]);\n  async function findById(id) {\n    buscaId(`/temas/${id}`, setTema, {\n      headers: {\n        'Authorization': token\n      }\n    });\n  }\n  function updatedTema(e) {\n    setTema({\n      ...tema,\n      [e.target.name]: e.target.value\n    });\n  }\n  async function onSubmit(e) {\n    e.preventDefault();\n    console.log(\"tema\" + JSON.stringify(tema));\n    if (id !== undefined) {\n      console.log(tema);\n      put(`/temas`, tema, setTema, {\n        headers: {\n          'Authorization': token\n        }\n      });\n      alert(\"Tema atualizado com sucesso\");\n    } else {\n      post(`/temas`, tema, setTema, {\n        headers: {\n          'Authorization': token\n        }\n      });\n      alert(\"Tema cadastrado com sucesso\");\n    }\n    back();\n  }\n  function back() {\n    navigate('/temas');\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    className: \"topo\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h3\",\n        color: \"textSecondary\",\n        component: \"h1\",\n        align: \"center\",\n        children: \"Formul\\xE1rio de cadastro tema\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        value: tema.descricao,\n        onChange: e => updatedTema(e),\n        id: \"descricao\",\n        label: \"descricao\",\n        variant: \"outlined\",\n        name: \"descricao\",\n        margin: \"normal\",\n        fullWidth: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"Finalizar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n}\n_s(CadastroTema, \"V+Rv+Qh5TMPlakvhaYePVLj0xNU=\", false, function () {\n  return [useNavigate, useParams, useLocalStorage];\n});\n_c = CadastroTema;\nexport default CadastroTema;\nvar _c;\n$RefreshReg$(_c, \"CadastroTema\");","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","TextField","Button","buscaId","post","put","useNavigate","useParams","useLocalStorage","CadastroTema","navigate","id","token","setToken","tema","setTema","descricao","alert","undefined","findById","headers","updatedTema","e","target","name","value","onSubmit","preventDefault","console","log","JSON","stringify","back"],"sources":["C:/Users/User/Desktop/blogpessoal-front/src/componentes/temas/cadastroTema/CadastroTema.tsx"],"sourcesContent":["import React, {useState, useEffect, ChangeEvent} from 'react'\r\nimport { Container, Typography, TextField, Button } from \"@material-ui/core\"\r\nimport Tema from '../../../models/Tema';\r\nimport { buscaId, post, put } from '../../../service/Service';\r\nimport './CadastroTema.css'\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport useLocalStorage from 'react-use-localstorage';\r\n\r\n\r\n\r\nfunction CadastroTema() {\r\n\r\n    let navigate = useNavigate();\r\n    const {id}= useParams<{id: string}>();\r\n    const [token, setToken]= useLocalStorage('token');\r\n\r\n    const [tema, setTema] = useState<Tema>({\r\n        id: 0,\r\n        descricao:''\r\n    })\r\n\r\n    useEffect(() => {\r\n        if (token == \"\") {\r\n          alert(\"Você precisa estar logado\");\r\n          navigate(\"/login\");\r\n        }\r\n      }, [token]);\r\n\r\n      useEffect(()=>{\r\n        if (id !== undefined) {\r\n            findById (id);\r\n        }\r\n      }, [id])\r\n  \r\n      async function findById(id: string){\r\n        buscaId(`/temas/${id}`, setTema,{\r\n            headers:{\r\n                'Authorization':token\r\n            }\r\n        })\r\n      }\r\n\r\n      function updatedTema(e: ChangeEvent<HTMLInputElement>){\r\n\r\n        setTema({\r\n            ...tema,\r\n            [e.target.name]: e.target.value,\r\n        })\r\n      }\r\n\r\n      async function onSubmit(e:ChangeEvent<HTMLFormElement>){\r\n        e.preventDefault()\r\n        console.log(\"tema\" + JSON.stringify(tema))\r\n\r\n        if(id !== undefined){\r\n            console.log(tema)\r\n            put(`/temas`,tema,setTema,{\r\n                headers:{\r\n                    'Authorization': token\r\n                }\r\n            })\r\n            alert(\"Tema atualizado com sucesso\");\r\n        }else{\r\n            post(`/temas`,tema,setTema,{\r\n                headers:{\r\n                    'Authorization': token\r\n                }\r\n            })\r\n            alert(\"Tema cadastrado com sucesso\");\r\n        }\r\n        back()\r\n      }\r\n\r\n      function back() {\r\n        navigate('/temas');\r\n    }\r\n    return (\r\n        <Container maxWidth=\"sm\" className=\"topo\">\r\n            <form onSubmit={onSubmit}>\r\n                <Typography variant=\"h3\" color=\"textSecondary\" component=\"h1\" align=\"center\" >Formulário de cadastro tema</Typography>\r\n                <TextField value={tema.descricao} onChange={(e: ChangeEvent<HTMLInputElement>)=> updatedTema(e)} id=\"descricao\" label=\"descricao\" variant=\"outlined\" name=\"descricao\" margin=\"normal\" fullWidth />\r\n                <Button type=\"submit\" variant=\"contained\" color=\"primary\">\r\n                    Finalizar\r\n                </Button>\r\n            </form>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CadastroTema;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}